<html>
    <head>
        <script>
        document.addEventListener("DOMContentLoaded", function() {

var resizeImageHere = document.createElement('div');
resizeImageHere.innerHTML = 'Ridimensiona immagine qui';
resizeImageHere.style.position = 'absolute';
resizeImageHere.style.top = '50%';
resizeImageHere.style.left = '50%';
resizeImageHere.style.transform = 'translate(-50%, -50%)';
resizeImageHere.style.fontSize = '20px';
resizeImageHere.style.fontWeight = 'bold';
resizeImageHere.style.color = '#fff';
resizeImageHere.style.backgroundColor = '#000';
resizeImageHere.style.padding = '10px';
resizeImageHere.style.borderRadius = '5px';
resizeImageHere.style.cursor = 'pointer';
document.body.appendChild(resizeImageHere);

var input = document.createElement('input');
input.type = 'file';
input.accept = 'image/png, image/webp, image/jpeg';
input.style.display = 'none';
document.body.appendChild(input);
resizeImageHere.addEventListener('click', function() {
  input.click();
});

resizeImageHere.style.backgroundColor = '#0088cc';
resizeImageHere.style.color = '#fff';
resizeImageHere.style.fontSize = '20px';
resizeImageHere.style.fontWeight = 'bold';
resizeImageHere.style.padding = '10px';
resizeImageHere.style.borderRadius = '5px';
resizeImageHere.style.cursor = 'pointer';

resizeImageHere.style.fontFamily = 'arial';

resizeImageHere.style.fontSize = '18px';

var telegramLogo = document.createElement('img');
telegramLogo.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/2048px-Telegram_logo.svg.png';
telegramLogo.style.position = 'absolute';
telegramLogo.style.top = '50%';
telegramLogo.style.left = '50%';
telegramLogo.style.transform = 'translate(-50%, -50%)';
telegramLogo.style.width = '100px';
document.body.appendChild(telegramLogo);

telegramLogo.style.top = '30%';

var text = document.createElement('div');
text.innerHTML = 'Qui puoi ridimensionare i file per gli emojipack su @Stickers';
text.style.position = 'absolute';
text.style.top = '50%';
text.style.left = '50%';
text.style.transform = 'translate(-50%, -50%)';
text.style.fontSize = '20px';
text.style.fontWeight = 'bold';
text.style.color = '#fff';
text.style.backgroundColor = '#000';
text.style.padding = '10px';
text.style.borderRadius = '5px';
text.style.cursor = 'pointer';
text.style.fontFamily = 'arial';
document.body.appendChild(text);

text.style.top = '80%';

text.style.top = '65%';

text.style.fontSize = '16px';
text.style.backgroundColor = 'transparent';

text.style.color = '#000';

text.style.textAlign = 'center';

text.style.fontSize = '18px';

resizeImageHere.style.fontSize = '15px';

resizeImageHere.style.fontSize = '20px';

telegramLogo.style.top = '25%';

telegramLogo.style.top = '28%';

input.addEventListener('change', function() {
  var file = input.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var img = new Image();
    img.onload = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/png');
      var blob = dataURLtoBlob(dataURL);
      var fileName = file.name.split('.');
      fileName.pop();
      fileName = fileName.join('.');
      fileName += '.png';
      saveAs(blob, fileName);
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
});

input.addEventListener('change', function() {
  var file = input.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var img = new Image();
    img.onload = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/png');
      var blob = dataURLtoBlob(dataURL);
      var fileName = 'for_sticker_bot.png';
      saveAs(blob, fileName);
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
});

resizeImageHere.innerHTML = 'Crea emoji statica';

resizeImageHere.style.left = '48%';

resizeImageHere.style.left = '35%';

var createVideoEmoji = document.createElement('div');
createVideoEmoji.innerHTML = 'Crea emoji video';
createVideoEmoji.style.position = 'absolute';
createVideoEmoji.style.top = '50%';
createVideoEmoji.style.left = '50%';
createVideoEmoji.style.transform = 'translate(-50%, -50%)';
createVideoEmoji.style.fontSize = '20px';
createVideoEmoji.style.fontWeight = 'bold';
createVideoEmoji.style.color = '#fff';
createVideoEmoji.style.backgroundColor = '#0088cc';
createVideoEmoji.style.padding = '10px';
createVideoEmoji.style.borderRadius = '5px';
createVideoEmoji.style.cursor = 'pointer';
document.body.appendChild(createVideoEmoji);

createVideoEmoji.style.fontFamily = 'arial';
createVideoEmoji.style.left = '55%';

createVideoEmoji.style.left = '65%';

var inputVideo = document.createElement('input');
inputVideo.type = 'file';
inputVideo.accept = 'video/webm, video/mp4, video/ogg';
inputVideo.style.display = 'none';
document.body.appendChild(inputVideo);
createVideoEmoji.addEventListener('click', function() {
  inputVideo.click();
});
inputVideo.addEventListener('change', function() {
  var file = inputVideo.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var video = document.createElement('video');
    video.onloadeddata = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/webp');
      var blob = dataURLtoBlob(dataURL);
      var fileName = file.name.split('.');
      fileName.pop();
      fileName = fileName.join('.');
      fileName += '.webp';
      saveAs(blob, fileName);
    };
    video.src = e.target.result;
  };
  reader.readAsDataURL(file);
});

inputVideo.addEventListener('change', function() {
  var file = inputVideo.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var video = document.createElement('video');
    video.onloadeddata = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/webp');
      var blob = dataURLtoBlob(dataURL);
      var fileName = file.name.split('.');
      fileName.pop();
      fileName = fileName.join('.');
      fileName += '.webp';
      saveAs(blob, fileName);
    };
    video.src = e.target.result;
  };
  reader.readAsDataURL(file);
  if (file.type !== 'video/mp4' && file.type !== 'video/mov' && file.type !== 'video/webm') {
    var error = document.createElement('div');
    error.innerHTML = 'Tipo di formato video non supportato, convertilo o in .mp4 o in .mov';
    error.style.position = 'absolute';
    error.style.top = '50%';
    error.style.left = '50%';
    error.style.transform = 'translate(-50%, -50%)';
    error.style.fontSize = '20px';
    error.style.fontWeight = 'bold';
    error.style.color = '#fff';
    error.style.backgroundColor = '#000';
    error.style.padding = '10px';
    error.style.borderRadius = '5px';
    error.style.cursor = 'pointer';
    document.body.appendChild(error);
    setTimeout(function() {
      document.body.removeChild(error);
    }, 5000);
  }
});

input.addEventListener('change', function() {
  var file = input.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var img = new Image();
    img.onload = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/png');
      var blob = dataURLtoBlob(dataURL);
      var fileName = 'for_sticker_bot.png';
      saveAs(blob, fileName);
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
});

inputVideo.accept = 'video/webm, video/mp4, video/ogg, video/mov';

input.addEventListener('change', function() {
  var file = input.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var img = new Image();
    img.onload = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/png');
      var blob = dataURLtoBlob(dataURL);
      var fileName = 'for_sticker_bot.png';
      saveAs(blob, fileName);
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
});
inputVideo.addEventListener('change', function() {
  var file = inputVideo.files[0];
  var reader = new FileReader();
  reader.onload = function(e) {
    var video = document.createElement('video');
    video.onloadeddata = function() {
      var canvas = document.createElement('canvas');
      canvas.width = 100;
      canvas.height = 100;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, 100, 100);
      var dataURL = canvas.toDataURL('image/webp');
      var blob = dataURLtoBlob(dataURL);
      var fileName = file.name.split('.');
      fileName.pop();
      fileName = fileName.join('.');
      fileName += '.webp';
      saveAs(blob, fileName);
    };
    video.src = e.target.result;
  };
  reader.readAsDataURL(file);
  if (file.type !== 'video/mp4' && file.type !== 'video/mov' && file.type !== 'video/webm') {
    var error = document.createElement('div');
    error.innerHTML = 'Tipo di formato video non supportato, convertilo o in .mp4 o in .mov';
    error.style.position = 'absolute';
    error.style.top = '50%';
    error.style.left = '50%';
    error.style.transform = 'translate(-50%, -50%)';
    error.style.fontSize = '20px';
    error.style.fontWeight = 'bold';
    error.style.color = '#fff';
    error.style.backgroundColor = '#000';
    error.style.padding = '10px';
    error.style.borderRadius = '5px';
    error.style.cursor = 'pointer';
    document.body.appendChild(error);
    setTimeout(function() {
      document.body.removeChild(error);
    }, 5000);
  }
});
});
        </script>
    </head>
    <body style="margin: 0;">
    </body>
</html>
